<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>'''为什么Java中只有值传递？''' - 吱吱的博客</title>
  <meta name="description" content="{{post.excerpt}}">
  <link rel="stylesheet" href="/assets/style.css">
</head>
<body>
  <div class="background-animation"></div>
  <div class="background-animation background-animation-2"></div>
  
  <header class="header">
    <div class="container">
      <nav class="nav">
        <a href="/" class="logo">吱吱的博客</a>
        <div class="nav-links">
          <a href="/" class="nav-link">首页</a>
          <a href="/archives/" class="nav-link">归档</a>
        </div>
        <button class="theme-toggle" aria-label="切换主题">
          <span class="theme-icon">🌙</span>
        </button>
      </nav>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <article class="post">
        <div class="post-header">
          <a href="/" class="back-link">← 返回首页</a>
          <h1 class="post-title">'''为什么Java中只有值传递？'''</h1>
          <div class="post-meta">
            <span class="post-date">2026年1月25日</span>
            
          </div>
        </div>
        
        <div class="post-content">
          <p>#为什么Java中只有值传递？</p><h2>形参&实参</h2><p>方法的定义可能会用到 <strong>参数</strong>，参数在程序语言中分为：</p><ul><ol><li><strong>实参（实际参数，Arguments）</strong>：用于传递给函数/方法的参数，必须有确定的值。</li>
<li><strong>形参（形式参数，Parameters）</strong>：用于定义函数/方法，接收实参，不需要有确定的值。</li>
</ol></ul>
<pre><code class="language-java">String hello = "Hello!";
// hello 为实参
sayHello(hello);
// str 为形参
void sayHello(String str) {
    System.out.println(str);
}
</code></pre><h2>值传递&引用传递</h2><p>程序设计语言将实参传递给方法（或函数）的方式分为两种：</p><ul><ol><li><strong>值传递</strong>：方法接收的是实参值的拷贝，会创建副本。</li>
<li><strong>引用传递</strong>：方法接收的直接是实参的地址，而不是实参内的值，这就是指针，此时形参就是实参，对形参的任何修改都会反应到实参，包括重新赋值。</li>
</ol></ul>
很多程序设计语言（比如 C++、 Pascal）提供了两种参数传递的方式，不过，在 Java 中只有值传递。</p><h2>为什么 Java 只有值传递？</h2><p><strong>为什么说 Java 只有值传递呢？</strong> 不需要太多废话，我通过 3 个例子来给大家证明。</p><h3>案例 1：传递基本类型参数</h3><p>代码：</p><pre><code class="language-java">public static void main(String[] args) {
    int num1 = 10;
    int num2 = 20;
    swap(num1, num2);
    System.out.println("num1 = " + num1);
    System.out.println("num2 = " + num2);
}</p><p>public static void swap(int a, int b) {
    int temp = a;
    a = b;
    b = temp;
    System.out.println("a = " + a);
    System.out.println("b = " + b);
}
</code></pre><p>输出：</p><pre><code class="language-plain">a = 20
b = 10
num1 = 10
num2 = 20
</code></pre><p>解析：</p><p>这里应该是基本类型，实参传递过来的是地址中数值，然后形参地址中存放了这个数值，所有修改形参只是修改数值而已，不会影响到实参。</p><p>在 <code>swap()</code> 方法中，<code>a</code>、<code>b</code> 的值进行交换，并不会影响到 <code>num1</code>、<code>num2</code>。因为，<code>a</code>、<code>b</code> 的值，只是从 <code>num1</code>、<code>num2</code> 的复制过来的。也就是说，a、b 相当于 <code>num1</code>、<code>num2</code> 的副本，副本的内容无论怎么修改，都不会影响到原件本身。</p><h3>案例 2：传递引用类型参数 1</h3><p>代码：</p><pre><code class="language-java">  public static void main(String[] args) {
      int[] arr = { 1, 2, 3, 4, 5 };
      System.out.println(arr[0]);
      change(arr);
      System.out.println(arr[0]);
  }</p><p>  public static void change(int[] array) {
      // 将数组的第一个元素变为0
      array[0] = 0;
  }
</code></pre><p>输出：</p><pre><code class="language-plain">1
0
</code></pre><p>解析：</p><p>这里我的理解是这里还是传递的实参指向的值，这不过这个值是个地址罢了，所以形参只是拷贝了这个地址，指向的还是同一个对象。方法中修改了这个对象内部的值，所以影响到了实参。
如果你直接修改array这个值，是不会影响到实参的。</p><p>看了这个案例很多人肯定觉得 Java 对引用类型的参数采用的是引用传递。</p><p>实际上，并不是的，这里传递的还是值，不过，这个值是实参的地址罢了！</p><p>也就是说 <code>change</code> 方法的参数拷贝的是 <code>arr</code> （实参）的地址，因此，它和 <code>arr</code> 指向的是同一个数组对象。这也就说明了为什么方法内部对形参的修改会影响到实参。</p><h3>案例 3：传递引用类型参数 2</h3><pre><code class="language-java">public class Person {
    private String name;
   // 省略构造函数、Getter&Setter方法
}</p><p>public static void main(String[] args) {
    Person xiaoZhang = new Person("小张");
    Person xiaoLi = new Person("小李");
    swap(xiaoZhang, xiaoLi);
    System.out.println("xiaoZhang:" + xiaoZhang.getName());
    System.out.println("xiaoLi:" + xiaoLi.getName());
}</p><p>public static void swap(Person person1, Person person2) {
    Person temp = person1;
    person1 = person2;
    person2 = temp;
    System.out.println("person1:" + person1.getName());
    System.out.println("person2:" + person2.getName());
}
</code></pre><p>输出:</p><pre><code class="language-plain">person1:小李
person2:小张
xiaoZhang:小张
xiaoLi:小李
</code></pre><p>解析：</p><p>这里很好理解了，就是交换了新参指向的地址而已，没有修改地址指向的内部的属性，所以没有改变。</p><p>怎么回事？？？两个引用类型的形参互换并没有影响实参啊！</p><p><code>swap</code> 方法的参数 <code>person1</code> 和 <code>person2</code> 只是拷贝的实参 <code>xiaoZhang</code> 和 <code>xiaoLi</code> 的地址。因此， <code>person1</code> 和 <code>person2</code> 的互换只是拷贝的两个地址的互换罢了，并不会影响到实参 <code>xiaoZhang</code> 和 <code>xiaoLi</code> 。</p><p>
<h2>引用传递是怎么样的？</h2><p>看到这里，相信你已经知道了 Java 中只有值传递，是没有引用传递的。
但是，引用传递到底长什么样呢？下面以 <code>C++</code> 的代码为例，让你看一下引用传递的庐山真面目。</p><p>``<code>C++
#include <iostream></p><p>void incr(int& num)
{
    std::cout << "incr before: " << num << "\n";
    num++;
    std::cout << "incr after: " << num << "\n";
}</p><p>int main()
{
    int age = 10;
    std::cout << "invoke before: " << age << "\n";
    incr(age);
    std::cout << "invoke after: " << age << "\n";
}
<pre><code class="language-">
输出结果：</p><p></code></pre>plain
invoke before: 10
incr before: 10
incr after: 11
invoke after: 11
</code>`<code></p><p>分析：可以看到，在 </code>incr<code> 函数中对形参的修改，可以影响到实参的值。要注意：这里的 </code>incr<code> 形参的数据类型用的是 </code>int&<code> 才为引用传递，如果是用 </code>int` 的话还是值传递哦！</p><h2>为什么 Java 不引入引用传递呢？</h2><p>引用传递看似很好，能在方法内就直接把实参的值修改了，但是，为什么 Java 不引入引用传递呢？</p><p><strong>注意：以下为个人观点看法，并非来自于 Java 官方：</strong></p><ol><li>出于安全考虑，方法内部对值进行的操作，对于调用者都是未知的（把方法定义为接口，调用方不关心具体实现）。你也想象一下，如果拿着银行卡去取钱，取的是 100，扣的是 200，是不是很可怕。</li>
<li>Java 之父 James Gosling 在设计之初就看到了 C、C++ 的许多弊端，所以才想着去设计一门新的语言 Java。在他设计 Java 的时候就遵循了简单易用的原则，摒弃了许多开发者一不留意就会造成问题的“特性”，语言本身的东西少了，开发者要学习的东西也少了。</li>
</ol>
<h2>总结</h2><p>Java 中将实参传递给方法（或函数）的方式是 <strong>值传递</strong>：</p><ul><ol><li>如果参数是基本类型的话，很简单，传递的就是基本类型的字面量值的拷贝，会创建副本。</li>
<li>如果参数是引用类型，传递的就是实参所引用的对象在堆中地址值的拷贝，同样也会创建副本。</li>
</ol></ul>
<h2>参考</h2><ul><ol><li><a href="https://javaguide.cn/java/basis/why-there-only-value-passing-in-java.html">Java 到底是值传递还是引用传递？ javaguide</a></li>
</ol></ul>
<!-- @include: @article-footer.snippet.md -->
</p>
        </div>
      </article>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 zhizhi2213. All rights reserved.</p>
    </div>
  </footer>

  <script src="/assets/script.js"></script>
</body>
</html>
